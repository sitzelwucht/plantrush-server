(this["webpackJsonpplantrush-app"]=this["webpackJsonpplantrush-app"]||[]).push([[0],{132:function(e,t,n){},151:function(e,t,n){},274:function(e,t,n){"use strict";n.r(t);var a=n(1),s=n.n(a),c=n(33),i=n.n(c),r=(n(132),n(68)),o=n(7),l=n(8),d=n(10),h=n(9),j=n(14),u=n(6),p=n.n(u),m="https://plantrush.herokuapp.com",b=(Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_CLOUDINARY_API_KEY:"742931869339847",REACT_APP_CLOUDINARY_SECRET:"U0O5GdFJx_X6-qkkKZkntBcYxIY",REACT_APP_CLOUDINARY_URL:"cloudinary://742931869339847:U0O5GdFJx_X6-qkkKZkntBcYxIY@dskg0qaag",REACT_APP_SERVER_URL:"https://plantrush.herokuapp.com"}).REACT_APP_TREFLE_API_KEY,n(150),n(151),n(0)),O=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={date:new Date},e.updateClock=function(){e.setState({date:new Date})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.timerID=setInterval((function(){return e.updateClock()}),1e3)}},{key:"componentWillUnmount",value:function(){clearInterval(this.timerID)}},{key:"render",value:function(){var e=this.state.date;return Object(b.jsxs)("div",{children:[Object(b.jsx)("div",{className:"day",children:e.toDateString()}),Object(b.jsx)("div",{className:"time",children:e.toLocaleTimeString()})]})}}]),n}(a.Component),g=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,fact:null,isLoading:!1},e.getRandomFact=function(){e.setState({isLoading:!0}),p.a.get("https://uselessfacts.jsph.pl/random.json?language=en").then((function(t){e.setState({fact:t.data,isLoading:!1})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data,time:new Date})})).catch((function(e){console.log(e)})),this.getRandomFact()}},{key:"componentDidUpdate",value:function(){var e=this;this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data,time:new Date})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.user,t=this.state.fact;return e?Object(b.jsx)("section",{className:"main-container",children:Object(b.jsxs)("div",{className:"content-box",children:[e?Object(b.jsxs)("div",{className:"welcome",children:[Object(b.jsxs)("div",{children:["Welcome to your home page ",Object(b.jsx)("span",{children:e.email})]}),Object(b.jsx)(O,{})," "]}):"Please log in to use this site because currently you're null",Object(b.jsxs)("div",{className:"random",children:["Random fact:",t&&Object(b.jsx)("div",{className:"fact",children:t.text})]})]})}):Object(b.jsx)(j.a,{to:"/"})}}]),n}(a.Component),x=n(276),v=n(13),f=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.user;return Object(b.jsx)("header",{className:"menu",children:Object(b.jsxs)("div",{className:"greenrush",children:[Object(b.jsx)("div",{className:"nav-top",children:e?Object(b.jsx)(v.b,{to:"/home",children:Object(b.jsx)("div",{className:"brand",children:"plantrush"})}):null}),Object(b.jsx)("div",{className:"nav-link",children:e?Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsx)(v.b,{to:"/mypage",children:"My page"}),Object(b.jsx)(v.b,{to:"/plant-search",children:"Search plants"}),Object(b.jsx)(v.b,{to:"/post-search",children:"Search posts"})," "]}):null}),Object(b.jsx)("div",{className:"nav-bottom",children:e?Object(b.jsxs)(b.Fragment,{children:[" ",Object(b.jsxs)("div",{className:"username",children:[" Logged in as ",e.email.toString()]}),Object(b.jsx)(x.a,{onClick:this.props.onLogout,variant:"dark logoutBtn",children:"Logout"})," "]}):null})]})})}}]),n}(a.Component),y=n(280),w=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={show:!1},e.handleClose=function(){e.props.resetErr(),e.setState({show:!1})},e.handleShow=function(){e.setState({show:!0})},e}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)(x.a,{variant:this.props.btnStyle,onClick:this.handleShow,children:this.props.btnTitle}),Object(b.jsxs)(y.a,{show:this.state.show,onHide:this.handleClose,children:[Object(b.jsx)(y.a.Header,{closeButton:!0,children:Object(b.jsx)(y.a.Title,{children:this.props.modalHeading})}),Object(b.jsxs)(y.a.Body,{children:[this.props.modalBody,Object(b.jsx)(y.a.Footer,{children:this.props.msg&&Object(b.jsx)("span",{className:"error",children:this.props.msg})})]})]})]})}}]),n}(a.Component),C=n(281),S=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(C.a,{onSubmit:this.props.onLogin,children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Email address"}),Object(b.jsx)(C.a.Control,{name:"email",type:"email",placeholder:"Enter email"})]}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicPassword",children:[Object(b.jsx)(C.a.Label,{children:"Password"}),Object(b.jsx)(C.a.Control,{name:"password",type:"password",placeholder:"Password"})]}),Object(b.jsx)(x.a,{variant:"primary green",type:"submit",children:"Log in"})]})})}}]),n}(a.Component),N=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsxs)(C.a,{onSubmit:this.props.onSignup,children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Email address"}),Object(b.jsx)(C.a.Control,{name:"email",type:"email",placeholder:"Enter email"})]}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicPassword",children:[Object(b.jsx)(C.a.Label,{children:"Password"}),Object(b.jsx)(C.a.Control,{name:"password",type:"password",placeholder:"Password"}),Object(b.jsx)(C.a.Text,{className:"text-muted",children:"Password must be minimum 6 characters long and contain at least 1 numeric character"})]}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicPassword2",children:[Object(b.jsx)(C.a.Label,{children:"Confirm Password"}),Object(b.jsx)(C.a.Control,{name:"password2",type:"password",placeholder:"Password"})]}),Object(b.jsx)(x.a,{variant:"primary darkgreen",type:"submit",children:"Sign up"})]})})}}]),n}(a.Component),k=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={error:null,loggedInUser:null},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state.loggedInUser;return this.props.user?Object(b.jsx)(g,{user:e}):Object(b.jsx)("div",{className:"landing",children:Object(b.jsxs)("div",{className:"intro",children:[Object(b.jsxs)("h2",{children:[Object(b.jsx)("img",{src:"/images/noun_Plant_9393.svg",alt:""}),Object(b.jsx)("span",{className:"darkgreen light",children:"plant"}),Object(b.jsx)("span",{children:"rush"})]}),Object(b.jsxs)("div",{className:"intro-btns",children:[Object(b.jsx)(w,{btnTitle:"Log in",btnStyle:"primary green",modalHeading:"Log in",msg:this.props.msg,resetErr:this.props.resetErr,modalBody:Object(b.jsx)(S,{onLogin:this.props.onLogin})}),Object(b.jsx)(w,{btnTitle:"Sign up",btnStyle:"secondary darkgreen",modalHeading:"Sign up",msg:this.props.msg,resetErr:this.props.resetErr,modalBody:Object(b.jsx)(N,{onSignup:this.props.onSignup})})]})]})})}}]),n}(a.Component),I=Object(j.g)(k),L=n(282),D=n(278),_=n(27),A=n.n(_),E=n(41),F=n(62),P=n(277),U=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsx)("div",{children:Object(b.jsx)(P.a,{className:"spinner",animation:"grow",variant:"dark"})})}}]),n}(a.Component),M=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={cloudinaryId:null,imageUrl:null,isLoading:null},e.uploadImage=function(t){e.setState({isLoading:!0});var n=new FormData;n.append("file",t[0]),n.append("upload_preset","y7dfvtyb"),p.a.post("https://api.cloudinary.com/v1_1/plantrush/image/upload",n).then((function(t){e.setState({cloudinaryId:t.data.public_id,imageUrl:t.data.url,isLoading:!1})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.imageUrl,s=t.cloudinaryId;return Object(b.jsxs)("div",{className:"row",children:[Object(b.jsxs)(C.a,{onSubmit:this.props.onAdd,children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Name"}),Object(b.jsx)(C.a.Control,{name:"name",type:"text",placeholder:"Enter name"})]}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Scientific name"}),Object(b.jsx)(C.a.Control,{name:"scientific_name",type:"text",placeholder:"Enter scientific name"})]}),Object(b.jsx)(C.a.Control,{type:"file",onChange:function(t){e.uploadImage(t.target.files)}}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Image url"}),Object(b.jsx)(C.a.Control,{name:"imageurl",type:"text",value:a})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(b.jsx)(C.a.Label,{children:"Description"}),Object(b.jsx)(C.a.Control,{name:"description",as:"textarea",rows:3})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(b.jsx)(C.a.Label,{children:"Watering"}),Object(b.jsxs)(C.a.Control,{name:"watering",as:"select",children:[Object(b.jsx)("option",{value:"low",children:"low"}),Object(b.jsx)("option",{value:"medium",children:"medium"}),Object(b.jsx)("option",{value:"high",children:"high"})]})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(b.jsx)(C.a.Label,{children:"Light"}),Object(b.jsxs)(C.a.Control,{name:"light",as:"select",children:[Object(b.jsx)("option",{value:"low",children:"low"}),Object(b.jsx)("option",{value:"medium",children:"medium"}),Object(b.jsx)("option",{value:"high",children:"high"})]})]}),Object(b.jsx)(x.a,{variant:"dark",type:"submit",children:"Submit"})]}),Object(b.jsx)("div",{className:"plant-image",children:n?Object(b.jsx)(U,{}):Object(b.jsx)(F.a,{style:{height:"450px"},cloudName:"plantrush",publicId:s})})]})}}]),n}(a.Component),T=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsxs)(v.b,{to:"/plant/".concat(this.props.id),children:[Object(b.jsx)("h6",{children:this.props.name})," "]}),Object(b.jsxs)("div",{className:"item-row",children:[Object(b.jsx)("div",{children:this.props.imageurl&&Object(b.jsx)("img",{src:this.props.imageurl,height:"75",alt:""})}),Object(b.jsxs)("div",{className:"factfile",children:[Object(b.jsxs)("div",{children:[this.props.description.slice(0,65),"..."]}),Object(b.jsx)(v.b,{to:"/plant/".concat(this.props.id),children:Object(b.jsx)(x.a,{className:"read-more-btn",variant:"light",children:"more"})})]})]})]})}}]),n}(a.Component),G=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={plants:[],showForm:!1},e.handleAddPlant=function(t){t.preventDefault();var n=t.target.name.value,a=t.target.scientific_name.value,s=t.target.description.value,c=t.target.watering.value,i=t.target.light.value,r=t.target.imageurl.value;p.a.post("".concat(m,"/api/add-plant"),{name:n,scientific_name:a,description:s,watering:c,light:i,imageurl:r,added_by:e.props.user._id}).then((function(t){e.setState({plants:[t.data].concat(Object(E.a)(e.state.plants)),showForm:!1})}))},e.handleShowForm=function(){e.setState({showForm:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(m,"/api/myplants")).then((function(t){var n=t.data.filter((function(t){return t.added_by===e.props.user._id}));e.setState({plants:n})})).catch((function(){console.log("failed to fetch plants")})),this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.plants,n=e.showForm;return this.props.user?Object(b.jsxs)("div",{className:"plants",children:[Object(b.jsx)("div",{className:"sub-header",children:n?Object(b.jsx)(M,{onAdd:this.handleAddPlant}):Object(b.jsx)(x.a,{onClick:this.handleShowForm,children:" + Add Plant "})}),Object(b.jsx)("div",{className:"plant-container",children:t.map((function(e,t){return Object(b.jsx)("div",{className:"plant-item",children:Object(b.jsx)(T,{id:e._id,imageurl:e.imageurl,name:e.name,description:e.description,watering:e.watering,light:e.light})},t)}))})]}):Object(b.jsx)("div",{children:"logging out"})}}]),n}(a.Component),B=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={cloudinaryId:null,imageUrl:null,isLoading:null},e.uploadImage=function(t){e.setState({isLoading:!0});var n=new FormData;n.append("file",t[0]),n.append("upload_preset","y7dfvtyb"),p.a.post("https://api.cloudinary.com/v1_1/plantrush/image/upload",n).then((function(t){e.setState({cloudinaryId:t.data.public_id,imageUrl:t.data.url,isLoading:!1})}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.imageUrl,s=t.cloudinaryId;return Object(b.jsxs)("div",{className:"form-img",children:[Object(b.jsxs)(C.a,{onSubmit:this.props.onAdd,children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Title"}),Object(b.jsx)(C.a.Control,{name:"title",type:"text",placeholder:"Enter title"})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(b.jsx)(C.a.Label,{children:"Description"}),Object(b.jsx)(C.a.Control,{name:"content",as:"textarea",rows:3})]}),Object(b.jsx)(C.a.Control,{type:"file",onChange:function(t){e.uploadImage(t.target.files)}}),Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Image url"}),Object(b.jsx)(C.a.Control,{name:"imageurl",type:"text",value:a})]}),Object(b.jsx)(x.a,{variant:"dark",type:"submit",children:"Submit"})]}),Object(b.jsx)("div",{className:"plant-image",children:n?Object(b.jsx)(U,{}):Object(b.jsx)(F.a,{style:{height:"450px"},cloudName:"plantrush",publicId:s})})]})}}]),n}(a.Component),R=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={comments:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(m,"/api/comments/").concat(this.props.id)).then((function(t){e.setState({comments:t.data,isLoading:!1})})).catch((function(){console.log("failed to fetch comments")}))}},{key:"render",value:function(){var e=this.state.comments;return Object(b.jsxs)("div",{className:"list-item",children:[Object(b.jsx)(v.b,{to:"/post/".concat(this.props.id),children:Object(b.jsxs)("h5",{children:[this.props.title,"  ",Object(b.jsxs)("span",{className:"post-author",children:[Object(b.jsx)("img",{src:"images/user1.svg",height:"20",alt:""}),this.props.author]})]})}),Object(b.jsxs)("div",{className:"item-row",children:[Object(b.jsx)("div",{children:Object(b.jsx)("img",{src:this.props.imageurl,height:"85",alt:""})}),Object(b.jsxs)("div",{className:"preview",children:[this.props.content.slice(0,200),"..."]})]}),Object(b.jsx)(v.b,{to:"/post/".concat(this.props.id),children:Object(b.jsx)("div",{className:"small-link",children:1===e.length?Object(b.jsxs)("div",{children:[e.length," comment"]}):Object(b.jsxs)("div",{children:[e.length," comments"]})})})]})}}]),n}(a.Component),J=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={posts:[],showForm:!1,loggedInUser:null},e.handleAddPost=function(t){t.preventDefault();var n=t.target.title.value,a=t.target.content.value,s=t.target.imageurl.value,c=e.props.user,i=e.props.user.email;p.a.post("".concat(m,"/api/create-post"),{title:n,content:a,imageurl:s,author:c,authorName:i}).then((function(t){e.setState({posts:[t.data].concat(Object(E.a)(e.state.posts)),showForm:!1})}))},e.handleShowForm=function(){e.setState({showForm:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(m,"/api/myposts/")).then((function(t){var n=t.data.sort((function(e,t){return e.created<t.created?1:e.created>t.created?-1:0}));e.setState({posts:n})})).catch((function(){console.log("failed to fetch posts")})),this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.posts,n=e.showForm;return this.props.user?Object(b.jsxs)("div",{className:"posts",children:[Object(b.jsx)("div",{className:"sub-header",children:n?Object(b.jsx)(B,{onAdd:this.handleAddPost}):Object(b.jsx)(x.a,{onClick:this.handleShowForm,children:" + Add Post"})}),t.map((function(e,t){return Object(b.jsx)(R,{id:e._id,title:e.title,content:e.content,imageurl:e.imageurl,author:e.authorName})}))]}):Object(b.jsx)("div",{children:"logging out"})}}]),n}(a.Component),Y=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,isLoading:!1},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.props.user||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this.props.user;return A.a.locale("en"),e?Object(b.jsx)("section",{className:"main-container",children:Object(b.jsxs)("div",{className:"my-page",children:[Object(b.jsxs)("div",{className:"my-page-header",children:[Object(b.jsx)("h1",{children:"My Page"}),Object(b.jsxs)("div",{className:"userinfo",children:[Object(b.jsxs)("div",{children:["Username: ",e.email]}),Object(b.jsxs)("div",{children:["Registered: ",A()(e.registered).format("DD MMM yyyy")]}),Object(b.jsxs)("div",{children:[Object(b.jsx)(x.a,{variant:"light",children:"Edit information"})," "]})]})]}),Object(b.jsx)("div",{children:Object(b.jsx)("div",{className:"tab",children:Object(b.jsxs)(L.a,{defaultActiveKey:"profile",id:"uncontrolled-tab-example",children:[Object(b.jsx)(D.a,{eventKey:"plants","aria-selected":"true",title:"My Plants",children:Object(b.jsx)(G,{user:this.props.user})}),Object(b.jsx)(D.a,{eventKey:"posts",title:"Newest Posts",children:Object(b.jsx)(J,{user:this.props.user})})]})})})]})}):Object(b.jsx)(j.a,{to:"/"})}}]),n}(a.Component),K=n(279),W=n(127),H=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={plants:[],results:[],msg:""},e.handleSearch=function(t){t.preventDefault();var n=t.target.input.value;p.a.get("".concat(m,"/api/plant-search?input=").concat(n)).then((function(t){e.setState({results:t.data})})).catch((function(e){return console.log(e)}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state,t=e.results,n=e.msg;return Object(b.jsxs)("section",{className:"main-container",children:[Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h1",{children:"search plants"}),Object(b.jsx)(C.a,{onSubmit:this.handleSearch,children:Object(b.jsxs)(K.a,{size:"lg",children:[Object(b.jsx)(W.a,{name:"input","aria-label":"Large","aria-describedby":"inputGroup-sizing-sm"}),Object(b.jsx)(x.a,{variant:"info",type:"submit",children:"Go!"})]})})]}),Object(b.jsxs)("div",{className:"results",children:[n,t.data&&t.data.map((function(e,t){return Object(b.jsxs)("div",{className:"plant-box",children:[Object(b.jsxs)("div",{className:"left",children:[Object(b.jsxs)("div",{className:"plant-box-header",children:[Object(b.jsx)("h3",{children:e.scientific_name}),Object(b.jsx)("div",{children:e.common_name})]}),Object(b.jsxs)(v.b,{to:"/detailed-search/".concat(e.slug),children:[Object(b.jsx)(x.a,{variant:"light",children:"More info"})," "]})]}),Object(b.jsx)("div",{className:"right",children:e.image_url?Object(b.jsx)("img",{src:e.image_url,alt:"plant",height:"100"}):Object(b.jsx)("img",{src:"/images/placeholder_plant.png",height:"150",alt:""})})]},t)}))]})]})}}]),n}(a.Component),z=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={posts:[],filteredPosts:[]},e.getPostData=function(){p.a.get("".concat(m,"/api/all-posts")).then((function(t){e.setState({posts:t.data})})).catch((function(e){return console.log(e)}))},e.handleSearchInput=function(t){var n=t.target.value.toLowerCase(),a=e.state.posts.filter((function(e){return e.content.toLowerCase().includes(n)}));e.setState({filteredPosts:a}),n||e.setState({filteredPosts:[],msg:""}),n&&0===a.length&&e.setState({msg:"no results were found"})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getPostData()}},{key:"render",value:function(){var e=this.state,t=e.filteredPosts,n=e.msg;return Object(b.jsxs)("section",{className:"main-container",children:[Object(b.jsxs)("div",{className:"searchbar",children:[Object(b.jsx)("h1",{children:"search posts"}),Object(b.jsx)(K.a,{size:"lg",children:Object(b.jsx)(W.a,{onChange:this.handleSearchInput,"aria-label":"Large","aria-describedby":"inputGroup-sizing-sm"})})]}),Object(b.jsxs)("div",{className:"results",children:[n,t.map((function(e,t){return Object(b.jsxs)("div",{className:"post-box",children:[Object(b.jsx)("div",{className:"post-title",children:Object(b.jsx)(v.b,{to:"/post/".concat(e._id),children:e.title})}),Object(b.jsxs)("div",{children:[e.content.slice(0,200),"(...)"]})]},t)}))]})]})}}]),n}(a.Component),q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={post:{}},e.handleTitleChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.post));a.title=n,e.setState({post:a})},e.handleContentChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.post));a.content=n,e.setState({post:a})},e.handleEditPost=function(t){p.a.patch("".concat(m,"/api/myposts/").concat(e.props.postid),{title:t.title,content:t.content}).then((function(){return e.props.history.push("/mypage")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(m,"/api/myposts/").concat(this.props.postid)).then((function(t){e.setState({post:t.data})})).catch((function(){console.log("failed to fetch post")}))}},{key:"render",value:function(){var e=this,t=this.state.post;return Object(b.jsx)("div",{className:"edit-form",children:Object(b.jsxs)(C.a,{children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Title"}),Object(b.jsx)(C.a.Control,{name:"title",type:"text",onChange:this.handleTitleChange,value:t.title})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(b.jsx)(C.a.Label,{children:"Description"}),Object(b.jsx)(C.a.Control,{name:"content",as:"textarea",rows:3,onChange:this.handleContentChange,value:t.content})]}),Object(b.jsx)(x.a,{onClick:function(){return e.handleEditPost(t)},variant:"dark",type:"submit",children:"Submit"})]})})}}]),n}(a.Component),V=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{children:[Object(b.jsx)("h4",{children:"write comment"}),Object(b.jsxs)(C.a,{onSubmit:this.props.onAdd,children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Title"}),Object(b.jsx)(C.a.Control,{name:"title",type:"text",placeholder:"Enter title"})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(b.jsx)(C.a.Label,{children:"Description"}),Object(b.jsx)(C.a.Control,{name:"content",as:"textarea",rows:3})]}),Object(b.jsx)(x.a,{variant:"dark",type:"submit",children:"Submit"})]})]})}}]),n}(a.Component),X=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={post:{},showForm:!1,isLoading:!0,comments:[],showCommentForm:!1,loggedInUser:null},e.handleDelete=function(){p.a.delete("".concat(m,"/api/myposts/").concat(e.props.postid)).then((function(){e.props.history.push("/mypage")})).catch((function(e){return console.log(e)}))},e.handleShowForm=function(){e.setState({showForm:!0})},e.handleShowCommentForm=function(){e.setState({showCommentForm:!0})},e.handleAddComment=function(t){t.preventDefault();var n=t.target.title.value,a=t.target.content.value,s=e.props.user,c=e.props.user.email,i=e.props.postid;p.a.post("".concat(m,"/api/add-comment"),{title:n,content:a,author:s,authorName:c,post:i}).then((function(t){e.setState({comments:[t.data].concat(Object(E.a)(e.state.comments)),showCommentForm:!1})}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data,isLoading:!1})})).catch((function(e){console.log(e)})),p.a.get("".concat(m,"/api/myposts/").concat(this.props.postid)).then((function(t){e.setState({post:t.data,isLoading:!1})})).catch((function(e){return console.log(e)})),p.a.get("".concat(m,"/api/comments/").concat(this.props.postid)).then((function(t){var n=t.data.sort((function(e,t){return e.time<t.time?1:e.time>t.time?-1:0}));e.setState({comments:n,isLoading:!1})})).catch((function(){console.log("failed to fetch comments")}))}},{key:"render",value:function(){var e=this.state,t=e.post,n=e.showForm,a=e.showCommentForm,s=e.comments,c=(e.isLoading,this.props.user);return c?(A.a.locale("en"),Object(b.jsx)("section",{className:"main-container",children:Object(b.jsxs)("div",{className:"detail-box",children:[Object(b.jsxs)("div",{className:"detail-header",children:[Object(b.jsxs)("div",{children:[t.title," "]}),t.author===c._id&&Object(b.jsxs)("div",{className:"btns",children:[Object(b.jsx)(x.a,{variant:"light",onClick:this.handleShowForm,children:"edit"}),Object(b.jsx)(x.a,{variant:"light",onClick:this.handleDelete,children:"delete"})]})]}),n&&Object(b.jsx)(q,{postid:t._id}),Object(b.jsxs)("div",{className:"posted",children:["  ",Object(b.jsxs)("div",{children:[Object(b.jsx)("img",{src:"/images/user1.svg",className:"svg",height:"20",alt:""}),t.authorName]})," ",A()(t.created).format("dddd DD MMM yyyy")," "]}),t.imageurl&&Object(b.jsx)("img",{src:t.imageurl,height:"300",alt:""}),Object(b.jsx)("p",{children:t.content}),Object(b.jsxs)("div",{className:"comment-section",children:[Object(b.jsx)("div",{className:"comments",children:1===s.length?Object(b.jsxs)("div",{children:[s.length," comment"]}):Object(b.jsxs)("div",{children:[s.length," comments"]})}),Object(b.jsx)("div",{children:a?Object(b.jsx)(V,{onAdd:this.handleAddComment}):Object(b.jsx)(x.a,{variant:"info",onClick:this.handleShowCommentForm,children:"Add comment"})}),s.map((function(e,t){return Object(b.jsxs)("div",{className:"comment-container",children:[Object(b.jsx)("div",{className:"comment-title",children:e.title}),Object(b.jsxs)("div",{className:"comment-time",children:[e.authorName,"  on  ",A()(e.time).format("MMMM Do YYYY, h:mm:ss a")]}),Object(b.jsxs)("div",{className:"comment-content",children:[e.content," "]})]},t)}))]})]})})):Object(b.jsx)(j.a,{to:"/"})}}]),n}(a.Component),Z=Object(j.g)(X),Q=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={plant:{}},e.handleNameChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.plant));a.name=n,e.setState({plant:a})},e.handleDescChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.plant));a.description=n,e.setState({plant:a})},e.handleLightChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.plant));a.light=n,e.setState({plant:a})},e.handleWateringChange=function(t){var n=t.target.value,a=JSON.parse(JSON.stringify(e.state.plant));a.watering=n,e.setState({plant:a})},e.handleEditPlant=function(t){p.a.patch("".concat(m,"/api/myplants/").concat(e.props.plantid),{name:t.name,description:t.description,watering:t.watering,light:t.light}).then((function(){e.props.history.push("/mypage")}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this,t=this.props.plantid;p.a.get("".concat(m,"/api/myplants/").concat(t)).then((function(t){e.setState({plant:t.data})})).catch((function(){console.log("failed to fetch plant")}))}},{key:"render",value:function(){var e=this,t=this.state.plant;return Object(b.jsx)("div",{className:"edit-form",children:Object(b.jsxs)(C.a,{children:[Object(b.jsxs)(C.a.Group,{controlId:"formBasicEmail",children:[Object(b.jsx)(C.a.Label,{children:"Name"}),Object(b.jsx)(C.a.Control,{name:"name",type:"text",onChange:this.handleNameChange,value:t.name})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlTextarea1",children:[Object(b.jsx)(C.a.Label,{children:"Description"}),Object(b.jsx)(C.a.Control,{name:"description",as:"textarea",onChange:this.handleDescChange,rows:3,value:t.description})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(b.jsx)(C.a.Label,{children:"Watering"}),Object(b.jsxs)(C.a.Control,{name:"watering",onChange:this.handleWateringChange,as:"select",children:["low"===t.watering?Object(b.jsx)("option",{value:"low",selected:"selected",children:"low"}):Object(b.jsx)("option",{value:"low",children:"low"}),"medium"===t.watering?Object(b.jsx)("option",{value:"medium",selected:"selected",children:"medium"}):Object(b.jsx)("option",{value:"medium",children:"medium"}),"high"===t.watering?Object(b.jsx)("option",{value:"high",selected:"selected",children:"high"}):Object(b.jsx)("option",{value:"high",children:"high"})]})]}),Object(b.jsxs)(C.a.Group,{controlId:"exampleForm.ControlSelect1",children:[Object(b.jsx)(C.a.Label,{children:"Light"}),Object(b.jsxs)(C.a.Control,{name:"light",onChange:this.handleLightChange,as:"select",children:["low"===t.light?Object(b.jsx)("option",{value:"low",selected:"selected",children:"low"}):Object(b.jsx)("option",{value:"low",children:"low"}),"medium"===t.light?Object(b.jsx)("option",{value:"medium",selected:"selected",children:"medium"}):Object(b.jsx)("option",{value:"medium",children:"medium"}),"high"===t.light?Object(b.jsx)("option",{value:"high",selected:"selected",children:"high"}):Object(b.jsx)("option",{value:"high",children:"high"})]})]}),Object(b.jsx)(x.a,{onClick:function(){return e.handleEditPlant(t)},variant:"dark",type:"submit",children:"Submit"})]})})}}]),n}(a.Component),$=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={plant:{},showForm:!1,loading:!0,loggedInUser:null},e.handleDelete=function(){p.a.delete("".concat(m,"/api/myplants/").concat(e.props.plantid)).then((function(){e.props.history.push("/mypage")})).catch((function(e){return console.log(e)}))},e.handleShowForm=function(){e.setState({showForm:!0})},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;p.a.get("".concat(m,"/api/myplants/").concat(this.props.plantid)).then((function(t){e.setState({plant:t.data})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.plant,n=e.showForm;return this.props.user?(A.a.locale("en"),Object(b.jsx)("section",{className:"main-container",children:Object(b.jsxs)("div",{className:"detail-box",children:[Object(b.jsxs)("div",{className:"detail-header",children:[Object(b.jsxs)("div",{children:[t.name," "]}),Object(b.jsxs)("div",{className:"btns",children:[Object(b.jsx)(x.a,{variant:"light",onClick:this.handleShowForm,children:"edit"}),Object(b.jsx)(x.a,{variant:"light",onClick:this.handleDelete,children:"delete"})]})]}),n&&Object(b.jsx)(Q,{plantid:t._id}),Object(b.jsxs)("div",{className:"plant-details",children:[Object(b.jsxs)("div",{className:"facts",children:[Object(b.jsxs)("div",{className:"sci-name",children:["Scientific name: ",t.scientific_name]}),Object(b.jsxs)("div",{className:"watering",children:["Watering: ",Object(b.jsxs)("span",{children:[t.watering," "]})]}),Object(b.jsxs)("div",{className:"lighting",children:["Light: ",Object(b.jsx)("span",{children:t.light})," "]}),Object(b.jsxs)("div",{className:"added",children:["Added: ",A()(t.added).format(" DD MMM yyyy")," "]})]}),Object(b.jsx)("img",{src:t.imageurl,height:"400",alt:""})]}),Object(b.jsx)("p",{children:t.description})]})})):Object(b.jsx)("div",{children:"hello"})}}]),n}(a.Component),ee=Object(j.g)($),te=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){return Object(o.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"render",value:function(){return Object(b.jsxs)("div",{style:{marginLeft:"750px",marginTop:"200px",display:"flex",flexDirection:"column",justifyContent:"center",width:"500px"},children:[Object(b.jsx)("img",{src:"/images/map.svg",height:"400",alt:""}),Object(b.jsx)("h1",{style:{fontFamily:"Comfortaa"},children:"page not found"})]})}}]),n}(a.Component),ne=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={plant:{},plantData:{},plantDistribution:[],leafImages:[],flowerImages:[]},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.setState({isLoading:!0}),p.a.get("".concat(m,"/api/detailed-search/").concat(this.props.plant)).then((function(t){e.setState({plant:t.data})})).catch((function(e){return console.log(e)}))}},{key:"componentDidUpdate",value:function(){var e=this;0===Object.keys(this.state.plant).length&&p.a.get("".concat(m,"/api/detailed-search/").concat(this.props.plant)).then((function(t){e.setState({plant:t.data,plantData:t.data.data,plantDistribution:t.data.data.distribution.native,leafImages:t.data.data.images.leaf,flowerImages:t.data.data.images.flower})})).catch((function(e){return console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.plant,n=e.plantData,a=e.plantDistribution,s=e.leafImages,c=e.flowerImages;return Object(b.jsx)("section",{className:"main-container",children:Object(b.jsx)("div",{className:"detail-box",children:Object.keys(t).length>0?Object(b.jsxs)(b.Fragment,{children:[Object(b.jsxs)("div",{className:"detail-header",children:[Object(b.jsxs)("div",{children:[n.common_name," "]}),Object(b.jsx)("div",{children:n.family})]}),Object(b.jsxs)("div",{className:" trefle-box",children:[Object(b.jsxs)("div",{className:"trefle-facts",children:[Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Edible:"})," ",n.edible?"yes":"no"]}),Object(b.jsxs)("div",{children:[Object(b.jsx)("span",{children:"Native Distribution: "}),Object(b.jsx)("div",{className:"dist-list",children:a?a.map((function(e,t){return Object(b.jsxs)("div",{children:["\xa0",e]},t)})):"N/A"})]})]}),Object(b.jsx)("div",{className:"trefle-img",children:Object(b.jsx)("img",{src:n.image_url,alt:"",height:"450"})})]}),Object(b.jsxs)("div",{className:"trefle-images",children:[Object(b.jsx)("h6",{children:"leaves"}),Object(b.jsx)("div",{className:"wrap leaf",children:s?s.map((function(e,t){return Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("img",{src:e.image_url,height:"175",alt:""})]},t)})):"N/A"}),Object(b.jsx)("h6",{children:"flowers"}),Object(b.jsx)("div",{className:"wrap flower",children:c?c.map((function(e,t){return Object(b.jsxs)("div",{children:[" ",Object(b.jsx)("img",{src:e.image_url,height:"175",alt:""})]},t)})):"N/A"})]})]}):Object(b.jsx)(U,{})})})}}]),n}(a.Component),ae=function(e){Object(d.a)(n,e);var t=Object(h.a)(n);function n(){var e;Object(o.a)(this,n);for(var a=arguments.length,s=new Array(a),c=0;c<a;c++)s[c]=arguments[c];return(e=t.call.apply(t,[this].concat(s))).state={loggedInUser:null,error:null},e.resetErrorMsg=function(){e.setState({error:null})},e.handleSignup=function(t){t.preventDefault();var n={email:t.target.email.value,password:t.target.password.value,password2:t.target.password2.value};p.a.post("".concat(m,"/api/signup"),n).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))})).catch((function(t){e.setState({error:Object.values(t.response.data)[0]})}))},e.handleLogin=function(t){t.preventDefault();var n={email:t.target.email.value,password:t.target.password.value};p.a.post("".concat(m,"/api/login"),n,{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data},(function(){e.props.history.push("/home")}))})).catch((function(t){e.setState({error:Object.values(t.response.data)[0]})}))},e.handleLogout=function(){p.a.post("".concat(m,"/api/logout"),{},{withCredentials:!0}).then((function(){e.setState({loggedInUser:null},(function(){e.props.history.push("/")}))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.state.loggedInUser||p.a.get("".concat(m,"/api/user"),{withCredentials:!0}).then((function(t){e.setState({loggedInUser:t.data})})).catch((function(e){console.log(e)}))}},{key:"render",value:function(){var e=this,t=this.state,n=t.loggedInUser,a=t.error;return Object(b.jsxs)("div",{children:[n&&Object(b.jsx)(f,{onLogout:this.handleLogout,user:n}),Object(b.jsxs)(j.d,{children:[Object(b.jsx)(j.b,{exact:!0,path:"/",render:function(){return Object(b.jsx)(I,{onSignup:e.handleSignup,onLogin:e.handleLogin,msg:a,resetErr:e.resetErrorMsg})}}),Object(b.jsx)(j.b,{path:"/home",render:function(e){return Object(b.jsx)(g,{user:n})}}),Object(b.jsx)(j.b,{path:"/mypage",render:function(e){return Object(b.jsx)(Y,Object(r.a)({user:n},e))}}),Object(b.jsx)(j.b,{path:"/plant-search",render:function(e){return Object(b.jsx)(H,Object(r.a)({user:n},e))}}),Object(b.jsx)(j.b,{path:"/post-search",render:function(e){return Object(b.jsx)(z,Object(r.a)({user:n},e))}}),Object(b.jsx)(j.b,{path:"/post/:postid",render:function(e){return Object(b.jsx)(Z,{user:n,postid:e.match.params.postid})}}),Object(b.jsx)(j.b,{path:"/plant/:plantid",render:function(e){return Object(b.jsx)(ee,{user:n,plantid:e.match.params.plantid})}}),Object(b.jsx)(j.b,{path:"/detailed-search/:plant",render:function(e){return Object(b.jsx)(ne,{user:n,plant:e.match.params.plant})}}),Object(b.jsx)(j.b,{component:te})]})]})}}]),n}(a.Component),se=Object(j.g)(ae);i.a.render(Object(b.jsx)(v.a,{children:Object(b.jsx)(s.a.StrictMode,{children:Object(b.jsx)(se,{})})}),document.getElementById("root"))}},[[274,1,2]]]);
//# sourceMappingURL=main.a98a3ccc.chunk.js.map